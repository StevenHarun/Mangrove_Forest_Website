<?php

namespace Database\Seeders;

use Illuminate\Database\Console\Seeds\WithoutModelEvents;
use Illuminate\Database\Seeder;
use App\Models\Spot;

class SpotSeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        //{"type":"FeatureCollection","features":[{"type":"Feature","properties":{"name":"Hutan Mangrove"},"geometry":{"type":"Polygon","coordinates":[[[108.65506,-7.703167],[108.647507,-7.711332],[108.652657,-7.717286],[108.655746,-7.721368],[108.661549,-7.722814],[108.664896,-7.726089],[108.669102,-7.727619],[108.670432,-7.730086],[108.673522,-7.725706],[108.675754,-7.722134],[108.677985,-7.722049],[108.676311,-7.718434],[108.672363,-7.713884],[108.670303,-7.71197],[108.665926,-7.707802],[108.660819,-7.705293],[108.658115,-7.702656],[108.65506,-7.703167]]]}}]}

        for ($i = 1; $i <= 5; $i++) {
            Spot::create([
                'name' => 'Hutan Mangruv ' . $i,
                'slug' => 'Hutan-Mangruv' . $i,
                'description' => 'Hutan Mangruv di lokasi ' . $i,
                'coordinates' => json_encode([
                    "type" => "FeatureCollection",
                    "features" => [
                        [
                            "type" => "Feature",
                            "properties" => ["name" => 'Hutan Mangruv ' . $i],
                            "geometry" => [
                                "type" => "Polygon",
                                "coordinates" => [108.65506 + rand(-1000, 1000) / 10000, -7.703167 + rand(-1000, 1000) / 10000], 
                                [108.647507 + rand(-1000, 1000) / 10000, -7.711332 + rand(-1000, 1000) / 10000], 
                                [108.652657 + rand(-1000, 1000) / 10000, -7.717286 + rand(-1000, 1000) / 10000], 
                                [108.655746 + rand(-1000, 1000) / 10000, -7.721368 + rand(-1000, 1000) / 10000], 
                                [108.661549 + rand(-1000, 1000) / 10000, -7.722814 + rand(-1000, 1000) / 10000], 
                                [108.664896 + rand(-1000, 1000) / 10000, -7.726089 + rand(-1000, 1000) / 10000], 
                                [108.669102 + rand(-1000, 1000) / 10000, -7.727619 + rand(-1000, 1000) / 10000], 
                                [108.670432 + rand(-1000, 1000) / 10000, -7.730086 + rand(-1000, 1000) / 10000], 
                                [108.673522 + rand(-1000, 1000) / 10000, -7.725706 + rand(-1000, 1000) / 10000], 
                                [108.675754 + rand(-1000, 1000) / 10000, -7.722134 + rand(-1000, 1000) / 10000], 
                                [108.677985 + rand(-1000, 1000) / 10000, -7.722049 + rand(-1000, 1000) / 10000], 
                                [108.676311 + rand(-1000, 1000) / 10000, -7.718434 + rand(-1000, 1000) / 10000], 
                                [108.672363 + rand(-1000, 1000) / 10000, -7.713884 + rand(-1000, 1000) / 10000], 
                                [108.670303 + rand(-1000, 1000) / 10000, -7.71197 + rand(-1000, 1000) / 10000], 
                                [108.665926 + rand(-1000, 1000) / 10000, -7.707802 + rand(-1000, 1000) / 10000], 
                                [108.660819 + rand(-1000, 1000) / 10000, -7.705293 + rand(-1000, 1000) / 10000], 
                                [108.658115 + rand(-1000, 1000) / 10000, -7.702656 + rand(-1000, 1000) / 10000],
                                [108.65506 + rand(-1000, 1000) / 10000, -7.703167 + rand(-1000, 1000) / 10000],
                                // "coordinates" => [110.738277 + rand(-1000, 1000) / 10000, -7.85032 + rand(-1000, 1000) / 10000]
                            ]
                        ]
                    ]
                ]),
                'fillColor' => '#65B741',
            ]);
        }
    }
}
